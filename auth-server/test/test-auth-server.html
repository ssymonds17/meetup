<!DOCTYPE html>
<html lang="en">

<head> </head>

<body>
  <div id="container">
    <input id="code" type="text" placeholder="code" />
    <!-- Access Token -->
    <button id="getToken">Get Token</button>
    <!-- Refresh Token -->
    <button id="refreshToken">Refresh Access Token</button>
    <p id="result"></p>
  </div>

  <script>
    const getTokenElement = document.getElementById('getToken');
    const refreshTokenElement = document.getElementById('refreshToken');

    getTokenElement.onclick = function () {
      const codeElement = document.getElementById('code');
      const resultElement = document.getElementById('result');
      const codeValue = codeElement.value;

      const lambdaURL = `https://z2f4aj83pi.execute-api.eu-west-2.amazonaws.com/dev/api/token/${codeValue}`;

      fetch(lambdaURL)
        .then(function (response) {
          return response.json();
        })
        .then(function (json) {
          resultElement.innerText = JSON.stringify(json);
        });
    };

    refreshTokenElement.onclick = function () {
      const codeElement = document.getElementById('code');
      const resultElement = document.getElementById('result');
      const codeValue = codeElement.value;

      const lambdaURL = `https://z2f4aj83pi.execute-api.eu-west-2.amazonaws.com/dev/api/refresh/${codeValue}`;

      fetch(lambdaURL)
        .then(function (response) {
          return response.json();
        })
        .then(function (json) {
          resultElement.innerText = JSON.stringify(json);
        });
    };
  </script>
</body>

</html>

<!-- <!DOCTYPE html>
<html lang="en">

<head>
</head>

<body>
  <div id="container">
    <input id="code" type="text" placeholder="code" />
    <button id="getToken">Get Token</button>
    <p id="result"></p>
  </div>
  <div id="refreshContainer">
    <input id="refreshCode" type="text" placeholder="code" />
    <button id="refreshToken">Refresh Token</button>
    <p id="refreshResult"></p>
  </div>

  <script type="text/javascript">

    // access token script
    const getTokenElement = document.getElementById('getToken');
    getTokenElement.onclick = function () {
      const codeElement = document.getElementById('code');
      const resultElement = document.getElementById('result');
      const codeValue = codeElement.value;
      const lambdaURL = 'https://z2f4aj83pi.execute-api.eu-west-2.amazonaws.com/dev/api/token/' + codeValue;

      fetch(lambdaURL)
        .then(function (response) {
          return response.json();
        })
        .then(function (json) {
          resultElement.innerText = JSON.stringify(json);
        })
        .catch((error) => {
          console.log(error);
        });
    }

    // refresh token script
    const refreshTokenElement = document.getElementById('refreshToken');
    refreshTokenElement.onclick = function () {
      const refreshCodeElement = document.getElementById('refreshCode');
      const refreshResultElement = document.getElementById('refreshResult');
      const refreshCodeValue = refreshCodeElement.value;
      const refreshLambda = 'https://z2f4aj83pi.execute-api.eu-west-2.amazonaws.com/dev/api/refresh/' + refreshCodeValue;

      fetch(refreshLambda)
        .then(function (response) {
          return response.json();
        })
        .then(function (json) {
          refreshResultElement.innerText = JSON.stringify(json);
        });
    }
  </script>
</body>

</html> -->